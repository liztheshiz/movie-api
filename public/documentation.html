<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Cinema Database</title>
        <link rel="stylesheet" type="text/css" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/styles.css" type="text/css">
    </head>

    <body>
        <main>
            <h1>Welcome to Cinema Database!</h1>
            <p>This API essentially provides an interactive database of information on films, directors, and genres.<br>
            Additionally, users can register to create and manage a list of their favorite films.</p>
            <br>
            <h2>Table URL endpoints and their req/res types:</h2>
            <table>
                <thead>
                    <tr>
                        <th>Business Logic</th>
                        <th>URL</th>
                        <th>HTTP Method</th>
                        <th>Request body data format</th>
                        <th>Response body data format</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Get list of all movies</td>
                        <td>/movies</td>
                        <td>GET</td>
                        <td>none</td>
                        <td>JSON object with list of movies with their info</td>
                    </tr>
                    <tr>
                        <td>Get data about a single movie by title</td>
                        <td>/movies/[Title]</td>
                        <td>GET</td>
                        <td>none</td>
                        <td>JSON object with movie info (movieid, description, genre, director, image URL, whether it's featured or not)
                            <pre>
                                <code>
                                    {
                                        _id: ObjectId,
                                        Title: String,
                                        Description: String,
                                        Genre: {
                                            Name: String,
                                            Description: String
                                        },
                                        Director: {
                                            Name: String,
                                            Bio: String,
                                            Birth: Date,
                                            Death: Date
                                        },
                                        ImagePath: String,
                                        Featured: Boolean
                                    }
                                </code>
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td>Get data about a genre (description) by name</td>
                        <td>/movies/genres/[Genre]</td>
                        <td>GET</td>
                        <td>none</td>
                        <td>Text message with genre description</td>
                    </tr>
                    <tr>
                        <td>Get data about a director by name</td>
                        <td>/movies/directors/[Director]</td>
                        <td>GET</td>
                        <td>none</td>
                        <td>JSON object with director info (bio, birth year, death year)
                            <pre>
                                <code>
                                    {
                                        Name: String,
                                        Bio: String,
                                        Birth: Date,
                                        Death: Date
                                    }
                                </code>
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td>Add new user</td>
                        <td>/users</td>
                        <td>POST</td>
                        <td>JSON object with username, password, email, and birthday
                            <pre>
                                <code>
                                    {
                                        Username: String,
                                        Password: String,
                                        Email: String,
                                        Birthday: Date ("mm/dd/yy")
                                    }
                                </code>
                            </pre>
                        </td>
                        <td>JSON object with userid, username, password, email, birthday, and favorite movies list (begins empty)
                            <pre>
                                <code>
                                    {
                                        _id: ObjectId,
                                        Username: String,
                                        Password: String,
                                        Email: String,
                                        Birthday: Date,
                                        FavoriteMovies: [MovieId]
                                    }
                                </code>
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td>Update user's info by current username</td>
                        <td>/users/[Username]</td>
                        <td>PUT</td>
                        <td> JSON object with data about user (username, password, email, birthday)
                            <pre>
                                <code>
                                    {
                                        Username: String,
                                        Password: String,
                                        Email: String,
                                        Birthday: Date ("mm/dd/yy")
                                    }
                                </code>
                            </pre>
                        </td>
                        <td>JSON object with all current data about user after update (id, username, password, email, birthday, favorite movies list (begins empty))
                            <pre>
                                <code>
                                    {
                                        _id: ObjectId,
                                        Username: String,
                                        Password: String,
                                        Email: String,
                                        Birthday: Date,
                                        FavoriteMovies: [MovieId]
                                    }
                                </code>
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td>Add movie to user's favorites list</td>
                        <td>/users/[Username]/FavoriteMovies/[MovieId]</td>
                        <td>POST</td>
                        <td>none</td>
                        <td>JSON object with data about user (id, username, password, email, birthday, favorite movies list which includes newly added movieid)
                            <pre>
                                <code>
                                    {
                                        _id: ObjectId,
                                        Username: String,
                                        Password: String,
                                        Email: String,
                                        Birthday: Date,
                                        FavoriteMovies: [MovieId]
                                    }
                                </code>
                            </pre>
                        </td>
                    </tr>
                    <tr>
                        <td>Remove movie from user's favorites list</td>
                        <td>/users/[Username]/FavoriteMovies/[MovieId]</td>
                        <td>DELETE</td>
                        <td>none</td>
                        <td>Text message indicating movie was removed</td>
                    </tr>
                    <tr>
                        <td>Remove user</td>
                        <td>/users/[Username]</td>
                        <td>DELETE</td>
                        <td>none</td>
                        <td>Text message indicating user was removed</td>
                    </tr>
                </tbody>
            </table>
        </main>

    </body>
</html>